<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <title>tris.tw 預覽頁面</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center px-4">
    <div class="bg-white p-8 rounded-xl shadow-lg text-center max-w-2xl w-full">
        <h1 class="text-2xl font-bold text-indigo-600 mb-6">檔案預覽</h1>

        {% if url.file_name %}
            <p class="text-gray-700 mb-2">檔案名稱：</p>
            <p class="text-lg font-medium mb-6">{{ url.file_name }}</p>

            {% if file_type and file_type.startswith("image/") %}
                <img src="/{{ url.short_code }}" alt="預覽圖片"
                     class="max-w-full max-h-[600px] mx-auto border rounded shadow-md">
            
            {% elif file_type == "application/pdf" %}
                <iframe src="/{{ url.short_code }}" width="100%" height="600px"
                        class="rounded border shadow"></iframe>

            {% else %}
                <p class="text-gray-500 mt-4">此檔案不支援線上預覽</p>
                <a href="/{{ url.short_code }}"
                   class="mt-6 inline-block bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700">
                    下載檔案
                </a>
            {% endif %}

        {% else %}
            <p class="text-red-500">找不到檔案</p>
        {% endif %}
    </div>
</body>
</html>
